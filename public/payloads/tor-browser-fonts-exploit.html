<html>
    <head>
        <title>PoC Tor Browser Fingerprint</title>
        <meta charset="utf-8"/>
        <style type="text/css">
            body {
                font-family: "Lucida Grande";
            }
        </style>
    </head>
    <body>
        <h1>Hello World</h1>
    </body>
    <script>
        (function (document) {
            var width;
            var body = document.body;
            var container = document.createElement("span");

            container.innerHTML = Array(100).join("wi");
            container.style.cssText = [
                "position: absolute",
                "width: auto",
                "font-size: 128px",
                "left: -99999px"
            ].join(" !important;");

            var getWidth = function (fontFamily) {
                container.style.fontFamily = fontFamily;

                body.appendChild(container);
                width = container.clientWidth;
                body.removeChild(container);

                return width;
            };

            var monoWidth  = getWidth("monospace");
            var serifWidth = getWidth("serif");
            var sansWidth  = getWidth("sans-serif");

            window.isFontAvailable = function (font) {
                return monoWidth !== getWidth(font + ",monospace") ||
                sansWidth !== getWidth(font + ",sans-serif") ||
                serifWidth !== getWidth(font + ",serif");
            };
        })(document);

        if (isFontAvailable("Lucida Grande")) {
            alert("You are using the MacOS plataform");
        }

        else if (isFontAvailable("MS Gothic")) {
            alert("You are using the Windows plataform");
        }

        else {
            alert("You are not using the MacOs/Windows Platform");
        }
    </script>
</html>